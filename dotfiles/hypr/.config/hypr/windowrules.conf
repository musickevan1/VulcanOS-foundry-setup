# Window Rules Configuration
# Rules for common applications and window types
# Updated for Hyprland 0.53+ syntax

# Floating windows
windowrule = match:class pavucontrol, float on
windowrule = match:class blueman-manager, float on
windowrule = match:class nm-connection-editor, float on
windowrule = match:class gnome-calculator, float on
windowrule = match:class org.gnome.Calculator, float on
windowrule = match:class file-roller, float on
windowrule = match:class nwg-look, float on
windowrule = match:class qt5ct, float on
windowrule = match:class qt6ct, float on
windowrule = match:class kvantummanager, float on
windowrule = match:class org.pulseaudio.pavucontrol, float on

# Thunar dialogs
windowrule = match:class thunar match:title ^File Operation Progress$, float on
windowrule = match:class thunar match:title ^Confirm to replace files$, float on
windowrule = match:class thunar match:title ^File Operation Progress$, size 800 600

# Firefox dialogs
windowrule = match:class firefox match:title ^Library$, float on
windowrule = match:class firefox match:title ^About Mozilla Firefox$, float on
windowrule = match:class firefox match:title ^Picture-in-Picture$, float on
windowrule = match:class firefox match:title ^Picture-in-Picture$, pin on

# Picture-in-Picture
windowrule = match:title ^Picture-in-Picture$, float on
windowrule = match:title ^Picture-in-Picture$, pin on
windowrule = match:title ^Picture-in-Picture$, size 640 360
windowrule = match:title ^Picture-in-Picture$, move 100%-650 100%-370

# Dialog windows
windowrule = match:title ^Open File$, float on
windowrule = match:title ^Save File$, float on
windowrule = match:title ^Open Folder$, float on
windowrule = match:title ^Save As$, float on
windowrule = match:title ^Choose Files$, float on
windowrule = match:title ^Open File$, size 900 600
windowrule = match:title ^Save File$, size 900 600
windowrule = match:title ^Open File$, center on
windowrule = match:title ^Save File$, center on

# Authentication dialogs
windowrule = match:class polkit-gnome-authentication-agent-1, float on
windowrule = match:class polkit-gnome-authentication-agent-1, center on
windowrule = match:class polkit-gnome-authentication-agent-1, size 400 200

# System monitors
windowrule = match:class gnome-system-monitor, float on
windowrule = match:title ^btop$, float on
windowrule = match:title ^htop$, float on
windowrule = match:class gnome-system-monitor, size 1200 800

# Image viewers
windowrule = match:class imv, float on
windowrule = match:class feh, float on
windowrule = match:class org.gnome.Loupe, float on

# Video players
windowrule = match:class mpv, float on
windowrule = match:class vlc, float on
windowrule = match:class mpv, size 1280 720
windowrule = match:class mpv, center on

# Wofi
windowrule = match:class wofi, float on
windowrule = match:class wofi, stay_focused on
windowrule = match:class wofi, animation slide

# SwayNC
layerrule = match:namespace swaync-control-center, blur on
layerrule = match:namespace swaync-notification-window, blur on

# Waybar
layerrule = match:namespace waybar, blur on

# XWayland video bridge (screen sharing)
windowrule = match:class xwaylandvideobridge, opacity 0.0 override
windowrule = match:class xwaylandvideobridge, no_anim on
windowrule = match:class xwaylandvideobridge, no_initial_focus on
windowrule = match:class xwaylandvideobridge, max_size 1 1
windowrule = match:class xwaylandvideobridge, no_blur on

# Opacity rules for specific apps
windowrule = match:class Alacritty, opacity 0.95 0.90
windowrule = match:class firefox, opacity 1.0 1.0
windowrule = match:class code, opacity 1.0 1.0
windowrule = match:class Code, opacity 1.0 1.0

# Inhibit idle when fullscreen (media apps only)
windowrule = match:class ^mpv$, idle_inhibit fullscreen
windowrule = match:class ^vlc$, idle_inhibit fullscreen
windowrule = match:class ^obs$, idle_inhibit fullscreen
windowrule = match:class mpv, idle_inhibit focus
windowrule = match:class firefox match:title .*-YouTube.*, idle_inhibit focus
