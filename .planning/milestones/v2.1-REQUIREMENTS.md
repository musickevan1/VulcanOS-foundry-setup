# Requirements Archive: v2.1 Maintenance

**Archived:** 2026-02-01
**Status:** SHIPPED

This is the archived requirements specification for v2.1.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: VulcanOS v2.1 Maintenance

**Defined:** 2026-01-30
**Core Value:** Cohesive, recoverable, keyboard-driven

## v2.1 Requirements

Maintenance milestone — wiring existing infrastructure, not building new features.

### Security

- [x] **SEC-01**: Theme loading uses parse_and_validate() for all paths (builtin, custom, import)
  - *Outcome: All 5 theme loading call sites now use parse_and_validate()*
- [x] **SEC-02**: Theme import rejects files with dangerous patterns (command injection, eval, pipes)
  - *Outcome: 6 dangerous pattern checks active via parse_and_validate()*
- [x] **SEC-03**: Theme import rejects files with path traversal attempts
  - *Outcome: Path traversal prevention active via parse_and_validate()*

### UX Polish

- [x] **UX-01**: BindingMode auto-transitions to CustomOverride when user manually changes wallpaper after theme apply
  - *Outcome: 4-line condition in WallpapersChanged handler*
- [x] **UX-02**: All 10 preset themes have matching wallpapers
  - *Outcome: Wallpapers downloaded from Unsplash (CC0), custom gruvbox-dark created*
- [x] **UX-03**: Missing wallpaper LICENSE files updated with attribution
  - *Outcome: 8 LICENSE files with Source URL, License type, Resolution, Author*

### Architecture

- [x] **ARCH-01**: AppState state machine integrated into App coordinator
  - *Outcome: ThemeViewModel tracks Idle/Previewing/Applying states*
- [x] **ARCH-02**: Cancel Preview restores previous wallpaper (via RestoreWallpapers message)
  - *Outcome: Full restore from PreviewSnapshot (theme + wallpapers)*
- [x] **ARCH-03**: Preview/Apply/Cancel buttons respect state transitions (disabled during invalid states)
  - *Outcome: Action bar with Revealer animation, button sensitivity based on state*

## Out of Scope

Explicitly excluded from v2.1:

| Feature | Reason |
|---------|--------|
| AppState error dialogs/spinners | Defer to v2.2 — requires UI design |
| Wallpaper preview state | Defer to v2.2 — separate feature |
| Multi-step undo/redo | Defer to v2.2 — beyond maintenance scope |
| vulcan-theme CLI validation | Separate tool, defer to v3.0 |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| SEC-01 | Phase 11 | Complete |
| SEC-02 | Phase 11 | Complete |
| SEC-03 | Phase 11 | Complete |
| UX-01 | Phase 12 | Complete |
| UX-02 | Phase 12 | Complete |
| UX-03 | Phase 12 | Complete |
| ARCH-01 | Phase 13 | Complete |
| ARCH-02 | Phase 13 | Complete |
| ARCH-03 | Phase 13 | Complete |

**Coverage:**
- v2.1 requirements: 9 total
- Mapped to phases: 9
- Complete: 9/9 (100%)

---

## Milestone Summary

**Shipped:** 9 of 9 v2.1 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-02-01 as part of v2.1 milestone completion*
